<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Digitalisierung (Digitizer) &mdash; Mapbender3 Documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/mapbender3.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '3.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../../../_static/mapbender3.ico"/>
    <link rel="top" title="Mapbender3 Documentation" href="../../../../../index.html" />
    <link rel="up" title="MapbenderCoreBundle" href="../index.html" />
    <link rel="next" title="Feature Info (Information)" href="feature_info.html" />
    <link rel="prev" title="Copyright" href="copyright.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="feature_info.html" title="Feature Info (Information)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="copyright.html" title="Copyright"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Mapbender3 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >Willkommen bei der Mapbender3 Dokumentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../../../bundles.html" >Bundle Dokumentation</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" accesskey="U">MapbenderCoreBundle</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="digitalisierung-digitizer">
<span id="digitizer"></span><h1>Digitalisierung (Digitizer)<a class="headerlink" href="#digitalisierung-digitizer" title="Permalink to this headline">¶</a></h1>
<p>Das Digitizer-Element ermöglicht den Aufbau von Erfassungsoberflächen. Derzeit kann über eine YAML-Definition eine Erfassungsmaske für Punkte, Linien oder Flächen aufgebaut werden.</p>
<p>Dabei wird bisher PostgreSQL als Datenquelle unterstützt. Oracle und SpatiaLite sind experimentell verfügbar. Die Entwicklung wurde so durchgeführt, dass die Erfassung auch auf andere Datenquellen wie z.B. OGC WFS erweitert werden kann.</p>
<p>Das Digitizer-Element bietet komplexe Editierfunktionalitäten an:</p>
<ul class="simple">
<li>Verschieben von Objekten</li>
<li>Einfügen von Stützpunkten (Linien, Flächen)</li>
<li>Erfassung von Flächen mit Enklaven und/oder Exklaven sowie Kreisen und Ellipsen</li>
</ul>
<p>In Zusammenhang mit der Digitalisierung können für die Erfassung von dazugehörigen Sachdaten sehr komplexe Formulare generiert werden.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer.png"><img alt="../../../../../_images/digitizer.png" src="../../../../../_images/digitizer.png" style="width: 813.6px; height: 441.6px;" /></a>
<p>Folgende Optionen stehen für den Aufbau von Formularen zur Verfügung:</p>
<ul class="simple">
<li>Definition von mehreren Datenquellen und Geometrieformaten für die Erfassung. Die verschiedenen Quellen werden über eine Auswahlbox angeboten.</li>
<li>Als Datenquelle wird eine Tabelle angesprochen, wobei auch nur eine Auswahl der Daten über einen Filter herangezogen werden kann</li>
<li>Textfelder</li>
<li>Textblöcke (mehrzeilige Textfelder)</li>
<li>Selectboxen, Multiselectboxen (Füllen der Auswahlbox über eine feste Definition von Werten in der YAML-Definition oder über ein Select auf eine Tabelle)</li>
<li>Radiobuttons und Checkboxen</li>
<li>Datumsauswahl</li>
<li>Dateiupload und Bildanzeige</li>
<li>Definition von Reitern</li>
<li>Definition von Trennlinien</li>
<li>Definition von beschreibenden Texten zur Information</li>
<li>Pflichtfelder, Definition von regulären Ausdrücken für die Formatvorgabe bestimmter Feldinhalte</li>
<li>Hilfetexte</li>
</ul>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_with_tabs.png"><img alt="../../../../../_images/digitizer_with_tabs.png" src="../../../../../_images/digitizer_with_tabs.png" style="width: 667.2px; height: 418.4px;" /></a>
<div class="section" id="einrichtung">
<h2>Einrichtung<a class="headerlink" href="#einrichtung" title="Permalink to this headline">¶</a></h2>
<p>Das Element kann nur in der Sidepane eingebettet werden.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_configuration.png"><img alt="../../../../../_images/digitizer_configuration.png" src="../../../../../_images/digitizer_configuration.png" style="width: 875.2px; height: 545.6px;" /></a>
<ul class="simple">
<li><strong>Title:</strong> Titel des Elements. Dieser wird in der Layouts Liste angezeigt und ermöglicht, mehrere Elemente voneinander zu unterscheiden.</li>
<li><strong>Target:</strong> Zielelement (Titel(ID)) der Karte.</li>
<li><strong>Schemes:</strong> YAML-Definition für das Element &#8220;digitizer&#8221;</li>
</ul>
<p>Der Digitizer benötigt einen Zugriff auf die Datenbank, in der die zu editierenden Tabellen liegen. Sie müssen dazu einen Datenbankzugriff konfigurieren.
Mehr zu diesem Thema finden Sie unter <a class="reference external" href="http://doc.mapbender3.org/de/book/database.html">http://doc.mapbender3.org/de/book/database.html</a></p>
<p>Die Definition des Digitizers wird in einer YAML-Syntax durchgeführt. Hier definieren Sie die Datenbankverbindung, die editierbaren Felder, das Formular für die Anzeige und andere Verhaltensweisen.
Bei fehlerhaften Angaben zur Datenbank, Feldern und Formularfehler erscheinen Fehlermeldungen. Über den normalen Aufruf und app.php kommt eine allgemeine Fehlermeldung.
Falls Sie den genauen Fehler reproduzieren möchten, sollten Sie die Seite über app_dev.php aufrufen. Hier tauchen ausführliche Fehlermeldungen zum Fehlerverhalten auf.</p>
<div class="section" id="yaml-definition-fur-das-element-digitizer-in-der-textarea-unter-schemes">
<h3>YAML-Definition für das Element digitizer in der Textarea unter schemes<a class="headerlink" href="#yaml-definition-fur-das-element-digitizer-in-der-textarea-unter-schemes" title="Permalink to this headline">¶</a></h3>
<p>In dem folgenden YAML-Block ist die beispielhafte Definition für drei Erfassungsoberflächen enthalten. Kopieren Sie den folgenden Block in Ihr Digitizer-Element, um die Erfassung von Punkten, Linien und Polygonen zu testen.
Vorher müssen Sie die Datenbankverbindung und die drei Demo-Tabellen anlegen. Die SQL-Befehle für das Anlegen der Tabellen finden Sie weiter unten.
Der Funktionsumfang der eingebauten Features und weitere Funktionen werden nach diesem Beispielaufbau genauer erläutert.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">point digitizing</span>
    <span class="l l-Scalar l-Scalar-Plain">inlineSearch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">maxResults</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
    <span class="l l-Scalar l-Scalar-Plain">featureType</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">connection</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">search_db</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">poi</span>
        <span class="l l-Scalar l-Scalar-Plain">uniqueId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gid</span>
        <span class="l l-Scalar l-Scalar-Plain">geomType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">point</span>
        <span class="l l-Scalar l-Scalar-Plain">geomField</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">geom</span>
        <span class="l l-Scalar l-Scalar-Plain">srid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4326</span>
    <span class="l l-Scalar l-Scalar-Plain">openFormAfterEdit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">zoomScaleDenominator</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
    <span class="l l-Scalar l-Scalar-Plain">allowEditData</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDelete</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDigitize</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">useContextMenu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">toolset</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawPoint</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">moveFeature</span>
    <span class="l l-Scalar l-Scalar-Plain">popup</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">point test suite</span>
        <span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500px</span>
    <span class="l l-Scalar l-Scalar-Plain">searchType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">currentExtent</span>
    <span class="l l-Scalar l-Scalar-Plain">tableFields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">gid</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Nr.</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">20%</span><span class="p p-Indicator">}</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Name</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">80%</span><span class="p p-Indicator">}</span>
    <span class="l l-Scalar l-Scalar-Plain">styles</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#1289CD&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="l l-Scalar l-Scalar-Plain">fillWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="l l-Scalar l-Scalar-Plain">select</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.7</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">formItems</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tabs</span>
         <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">form</span>
             <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Basic information</span>
             <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">padding</span><span class="p p-Indicator">:</span> <span class="nv">10px</span><span class="p p-Indicator">}</span>
             <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Welcome to the digitize demo. Try the new Mapbender3 feature!</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Name</span>
                   <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
                   <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please give a name to the poi.</span>
                   <span class="l l-Scalar l-Scalar-Plain">infoText</span><span class="p p-Indicator">:</span> <span class="s">&quot;Help:</span><span class="nv"> </span><span class="s">Please</span><span class="nv"> </span><span class="s">give</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">object.&quot;</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Title</span>
                   <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">title</span>
                   <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please give a title to the poi.</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">textArea</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">abstract</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Abstract</span>
                   <span class="l l-Scalar l-Scalar-Plain">placeholder</span><span class="p p-Indicator">:</span> <span class="s">&#39;please</span><span class="nv"> </span><span class="s">edit</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">field&#39;</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Type</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">type</span>
                   <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">A</span><span class="p p-Indicator">:</span> <span class="nv">A</span><span class="p p-Indicator">,</span> <span class="nv">B</span><span class="p p-Indicator">:</span> <span class="nv">B</span><span class="p p-Indicator">,</span> <span class="nv">C</span><span class="p p-Indicator">:</span> <span class="nv">C</span><span class="p p-Indicator">,</span> <span class="nv">D</span><span class="p p-Indicator">:</span> <span class="nv">D</span><span class="p p-Indicator">,</span> <span class="nv">E</span><span class="p p-Indicator">:</span> <span class="nv">E</span><span class="p p-Indicator">}</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">breakLine</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">form</span>
             <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Personal information</span>
             <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">padding</span><span class="p p-Indicator">:</span> <span class="nv">10px</span><span class="p p-Indicator">}</span>
             <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please give us some information about yourself.</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fieldSet</span>
                   <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
                       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
                         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Firstname</span>
                         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">firstname</span>
                         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">30%</span><span class="p p-Indicator">}</span>
                       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
                         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Lastname</span>
                         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lastname</span>
                         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">30%</span><span class="p p-Indicator">}</span>
                       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
                         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">E-Mail</span>
                         <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">email</span>
                         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">40%</span><span class="p p-Indicator">}</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>
                   <span class="l l-Scalar l-Scalar-Plain">multiple</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Interests</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interests</span>
                   <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">maps</span><span class="p p-Indicator">:</span> <span class="nv">maps</span><span class="p p-Indicator">,</span> <span class="nv">reading</span><span class="p p-Indicator">:</span> <span class="nv">reading</span><span class="p p-Indicator">,</span> <span class="nv">swimming</span><span class="p p-Indicator">:</span> <span class="nv">swimming</span><span class="p p-Indicator">,</span> <span class="nv">dancing</span><span class="p p-Indicator">:</span> <span class="nv">dancing</span><span class="p p-Indicator">,</span> <span class="nv">beer</span><span class="p p-Indicator">:</span> <span class="nv">beer</span><span class="p p-Indicator">,</span> <span class="nv">flowers</span><span class="p p-Indicator">:</span> <span class="nv">flowers</span><span class="p p-Indicator">}</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">favorite Date</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date_favorite</span>
                   <span class="l l-Scalar l-Scalar-Plain">placeholder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please add a date in the following style dd-mm-yy.</span>
                   <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd-mm-yy</span>
                   <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">01-01-2016</span>
                   <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                   <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">25%</span><span class="p p-Indicator">}</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">breakLine</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">breakLine</span>
                 <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">checkbox</span>
                   <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">public</span>
                   <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
                   <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">public (this new object is public)</span>
<span class="l l-Scalar l-Scalar-Plain">line</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">line digitizing</span>
    <span class="l l-Scalar l-Scalar-Plain">inlineSearch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">maxResults</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1500</span>
    <span class="l l-Scalar l-Scalar-Plain">featureType</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">connection</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">search_db</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lines</span>
        <span class="l l-Scalar l-Scalar-Plain">uniqueId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gid</span>
        <span class="l l-Scalar l-Scalar-Plain">geomType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">line</span>
        <span class="l l-Scalar l-Scalar-Plain">geomField</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">geom</span>
        <span class="l l-Scalar l-Scalar-Plain">srid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4326</span>
    <span class="l l-Scalar l-Scalar-Plain">openFormAfterEdit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDelete</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">useContextMenu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">toolset</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawLine</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">modifyFeature</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">moveFeature</span>
    <span class="l l-Scalar l-Scalar-Plain">popup</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">line test suite</span>
        <span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500px</span>
    <span class="l l-Scalar l-Scalar-Plain">searchType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">currentExtent</span>
    <span class="l l-Scalar l-Scalar-Plain">tableFields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">gid</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Nr.</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">20%</span><span class="p p-Indicator">}</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Name</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">80%</span><span class="p p-Indicator">}</span>
    <span class="l l-Scalar l-Scalar-Plain">styles</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#1289CD&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="l l-Scalar l-Scalar-Plain">fillWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="l l-Scalar l-Scalar-Plain">select</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.7</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">formItems</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">form</span>
         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Basic information</span>
         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">padding</span><span class="p p-Indicator">:</span> <span class="nv">10px</span><span class="p p-Indicator">}</span>
         <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Welcome to the digitize demo. Try the new Mapbender3 feature!</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Name</span>
               <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
               <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
               <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please give a name to the new object.</span>
               <span class="l l-Scalar l-Scalar-Plain">infoText</span><span class="p p-Indicator">:</span> <span class="s">&quot;Help:</span><span class="nv"> </span><span class="s">Please</span><span class="nv"> </span><span class="s">give</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">object.&quot;</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Type</span>
               <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">type</span>
               <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">A</span><span class="p p-Indicator">:</span> <span class="nv">A</span><span class="p p-Indicator">,</span> <span class="nv">B</span><span class="p p-Indicator">:</span> <span class="nv">B</span><span class="p p-Indicator">,</span> <span class="nv">C</span><span class="p p-Indicator">:</span> <span class="nv">C</span><span class="p p-Indicator">,</span> <span class="nv">D</span><span class="p p-Indicator">:</span> <span class="nv">D</span><span class="p p-Indicator">,</span> <span class="nv">E</span><span class="p p-Indicator">:</span> <span class="nv">E</span><span class="p p-Indicator">}</span>
<span class="l l-Scalar l-Scalar-Plain">polygon</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">polygon digitizing</span>
    <span class="l l-Scalar l-Scalar-Plain">inlineSearch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">maxResults</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1500</span>
    <span class="l l-Scalar l-Scalar-Plain">featureType</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">connection</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">search_db</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">polygons</span>
        <span class="l l-Scalar l-Scalar-Plain">uniqueId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gid</span>
        <span class="l l-Scalar l-Scalar-Plain">geomType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">polygon</span>
        <span class="l l-Scalar l-Scalar-Plain">geomField</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">geom</span>
        <span class="l l-Scalar l-Scalar-Plain">srid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4326</span>
    <span class="l l-Scalar l-Scalar-Plain">openFormAfterEdit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDelete</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="l l-Scalar l-Scalar-Plain">useContextMenu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">toolset</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawPolygon</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawRectangle</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawDonut</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawEllipse</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawCircle</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">modifyFeature</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">moveFeature</span>
    <span class="l l-Scalar l-Scalar-Plain">popup</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">polygon test suite</span>
        <span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500px</span>
    <span class="l l-Scalar l-Scalar-Plain">searchType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">currentExtent</span>
    <span class="l l-Scalar l-Scalar-Plain">tableFields</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">gid</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Nr.</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">20%</span><span class="p p-Indicator">}</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Name</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">80%</span><span class="p p-Indicator">}</span>
    <span class="l l-Scalar l-Scalar-Plain">styles</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#1289CD&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="l l-Scalar l-Scalar-Plain">fillWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="l l-Scalar l-Scalar-Plain">select</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.7</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">formItems</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">form</span>
         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Basic information</span>
         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">padding</span><span class="p p-Indicator">:</span> <span class="nv">10px</span><span class="p p-Indicator">}</span>
         <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Welcome to the digitize demo. Try the new Mapbender3 feature!</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Name</span>
               <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
               <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">name</span>
               <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Please give a name to the new object.</span>
               <span class="l l-Scalar l-Scalar-Plain">infoText</span><span class="p p-Indicator">:</span> <span class="s">&quot;Help:</span><span class="nv"> </span><span class="s">Please</span><span class="nv"> </span><span class="s">give</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">name</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">object.&quot;</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Type</span>
               <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">type</span>
               <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">A</span><span class="p p-Indicator">:</span> <span class="nv">A</span><span class="p p-Indicator">,</span> <span class="nv">B</span><span class="p p-Indicator">:</span> <span class="nv">B</span><span class="p p-Indicator">,</span> <span class="nv">C</span><span class="p p-Indicator">:</span> <span class="nv">C</span><span class="p p-Indicator">,</span> <span class="nv">D</span><span class="p p-Indicator">:</span> <span class="nv">D</span><span class="p p-Indicator">,</span> <span class="nv">E</span><span class="p p-Indicator">:</span> <span class="nv">E</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="sql-fur-die-demo-tabellen">
<h3>SQL für die Demo-Tabellen<a class="headerlink" href="#sql-fur-die-demo-tabellen" title="Permalink to this headline">¶</a></h3>
<p>Die folgenden SQL-Befehle müssen in Ihrer Datenbank ausgeführt werden. Sie legen drei Demo-Tabellen an, damit mit der oben gezeigte YAML-Definition die einzelnen Funktionen getestet werden können. Die PostGIS Extension muss aktiviert sein.</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">create</span> <span class="k">table</span> <span class="k">public</span><span class="p">.</span><span class="n">poi</span> <span class="p">(</span>
    <span class="n">gid</span> <span class="nb">serial</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">abstract</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">public</span> <span class="nb">boolean</span><span class="p">,</span>
    <span class="n">date_favorite</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">title</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">firstname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">lastname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">email</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">interests</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">user_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">group_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">modification_date</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">my_type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">file_reference</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">x</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">y</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">geom</span> <span class="n">geometry</span><span class="p">(</span><span class="n">point</span><span class="p">,</span><span class="mi">4326</span><span class="p">),</span>
    <span class="k">CONSTRAINT</span> <span class="n">pk_poi_gid</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">gid</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">create</span> <span class="k">table</span> <span class="k">public</span><span class="p">.</span><span class="n">lines</span> <span class="p">(</span>
    <span class="n">gid</span> <span class="nb">serial</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">abstract</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">public</span> <span class="nb">boolean</span><span class="p">,</span>
    <span class="n">date_favorite</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">title</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">firstname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">lastname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">email</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">interests</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">length</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">category</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">user_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">group_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">modification_date</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">my_type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">file_reference</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">x</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">y</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">geom</span> <span class="n">geometry</span><span class="p">(</span><span class="n">linestring</span><span class="p">,</span><span class="mi">4326</span><span class="p">),</span>
    <span class="k">CONSTRAINT</span> <span class="n">pk_lines_gid</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">gid</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">create</span> <span class="k">table</span> <span class="k">public</span><span class="p">.</span><span class="n">polygons</span> <span class="p">(</span>
    <span class="n">gid</span> <span class="nb">serial</span><span class="p">,</span>
    <span class="n">name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">abstract</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="k">public</span> <span class="nb">boolean</span><span class="p">,</span>
    <span class="n">date_favorite</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">title</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">firstname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">lastname</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">email</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">interests</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">area</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">category</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">user_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">group_name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">modification_date</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">my_type</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">file_reference</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">x</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">y</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">geom</span> <span class="n">geometry</span><span class="p">(</span><span class="n">polygon</span><span class="p">,</span><span class="mi">4326</span><span class="p">),</span>
    <span class="k">CONSTRAINT</span> <span class="n">pk_polygons_gid</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">gid</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="nutzung">
<h2>Nutzung<a class="headerlink" href="#nutzung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="allgemein">
<h3>Allgemein<a class="headerlink" href="#allgemein" title="Permalink to this headline">¶</a></h3>
<p>Der Digitizer ermöglicht das Editieren von FeatureTypes. Diese basieren auf Punkt, Linien oder Polygongeometrien und ihren Sachdaten. Die Sachdaten werden in dem Formular des Digitizers angezeigt. Das Editieren der Geometrien geschieht über die Karte.</p>
</div>
<div class="section" id="geometrien-erstellen">
<h3>Geometrien erstellen<a class="headerlink" href="#geometrien-erstellen" title="Permalink to this headline">¶</a></h3>
<p>Jeder FeatureType kann unterschiedliche <a class="reference external" href="#definition-der-zur-verfugung-stehenden-werkzeuge-toolset-type">Toolsets</a> freischalten, die dann in der Schaltflächenleiste des Digitizers sichtbar sind.</p>
<p>In dem FeatureType &#8220;poi&#8221; wird mit dem &#8220;drawPoint&#8221; Toolset beispielsweise die Schaltfläche zum Erstellen eines neuen Punktes freigeschaltet, mit dem Toolset &#8220;modifyFeature&#8221; die Verschieben-Schaltfläche eingeblendet.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_buttons_poi.png"><img alt="../../../../../_images/digitizer_buttons_poi.png" src="../../../../../_images/digitizer_buttons_poi.png" style="width: 116.0px; height: 51.2px;" /></a>
</div>
<div class="section" id="speichern-loschen-abbrechen">
<h3>Speichern, Löschen, Abbrechen<a class="headerlink" href="#speichern-loschen-abbrechen" title="Permalink to this headline">¶</a></h3>
<p>Es stehen drei Schaltflächen im Dialog zur Verfügung: Speichern, Löschen, Abbrechen.</p>
<p>Das <em>Speichern</em> der Änderungen geschieht erst, wenn die Schaltfläche &#8220;Speichern&#8221; im Attributdialog gedrückt worden ist. Ein Verschieben einer Geometrie alleine speichert das Feature also nicht sofort (um unnötige Änderungen in der Datenbank zu verhindern). Es ist bislang noch notwendig, den Attributdialog zu öffnen und Speichern zu klicken.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_save_delete_cancel.png"><img alt="../../../../../_images/digitizer_save_delete_cancel.png" src="../../../../../_images/digitizer_save_delete_cancel.png" style="width: 404.0px; height: 196.0px;" /></a>
<ul class="simple">
<li><strong>Speichern:</strong> Speichert die Geometrie und die Attributdaten in die Datenbank.</li>
<li><strong>Löschen:</strong> Löscht die Daten.</li>
<li><strong>Abbrechen:</strong> Speichert und löscht die Daten nicht, behält die Geometrie aber für eine weitere Bearbeitung im internen Speicher. Sie ist weiterhin in der Karte zu sehen und kann angepasst werden (z.B. bei Polygonen). Attributdaten werden nicht vorgehalten.</li>
</ul>
<p>Es gibt mehrere Optionen in den <a class="reference external" href="#Basisdefinition">Basisdefinitionen</a>, die das Verhalten bestimmen:</p>
<ul class="simple">
<li>allowEditData: Speichern Schaltfläche anzeigen.</li>
<li>allowDelete: Löschen Schaltfläche anzeigen.</li>
<li>allowCancelButton: Abbrechen Schaltfläche anzeigen.</li>
<li>allowDeleteByCancelNewGeometry: Verhalten des Abbrechen Knopfes.</li>
</ul>
<p>Das <em>Löschen</em> eines Features kann sowohl über den Dialog, als auch die Tabelle geschehen.</p>
</div>
<div class="section" id="vertices">
<h3>Vertices<a class="headerlink" href="#vertices" title="Permalink to this headline">¶</a></h3>
<p>Das Bearbeiten von Polygonen und Linien erlaubt das Erstellen, Verschieben und Löschen von Vertices. Die Schaltfläche zum Editieren von Vertices erwartet, dass man ein Polygon selektiert. Dieses wird dann mit den Stützpunkten angezeigt.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_edit_vertices.png"><img alt="../../../../../_images/digitizer_edit_vertices.png" src="../../../../../_images/digitizer_edit_vertices.png" style="width: 617.6px; height: 371.2px;" /></a>
<p>Die vorhandenen Stützpunkte werden deckend dargestellt, mögliche neue Stützpunkte befinden sich immer in der Mitte einer Kante, sind leicht transparent dargestellt und können per Klick auf diesen Punkt hinzugefügt werden.</p>
<p>Vorhandene Vertices werden mit der Entfernentaste auf dem Keyboard gelöscht. Dafür bewegt man sich mit dem Mauszeiger über einen Stützpunkt und drückt die Entf-Taste. <em>Anmerkung</em>: Falls das Löschen einen Stützpunktes nicht reagiert, hilft ein Klick mit der rechten Maustaste auf die Karte. Speziell mit dem aktivierten Kontextmenü können sich z.Z. noch Events verhaken.</p>
</div>
</div>
<div class="section" id="konfiguration">
<h2>Konfiguration<a class="headerlink" href="#konfiguration" title="Permalink to this headline">¶</a></h2>
<p>Im Folgenden werden die einzelnen Bestandteile des Digitizers erklärt, die die Grundstruktur ausmachen und die in dem Formular eingebettet werden können.</p>
<div class="section" id="basisdefinition">
<h3>Basisdefinition<a class="headerlink" href="#basisdefinition" title="Permalink to this headline">¶</a></h3>
<p>Eine Basisdefinition, hier am Beispiel der poi, sieht folgendermaßen aus:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">label</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">point digitizing</span>
    <span class="l l-Scalar l-Scalar-Plain">maxResults</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
    <span class="l l-Scalar l-Scalar-Plain">minScale</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
    <span class="l l-Scalar l-Scalar-Plain">featureType</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">connection</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">search_db</span>
        <span class="l l-Scalar l-Scalar-Plain">table</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">poi</span>
        <span class="l l-Scalar l-Scalar-Plain">uniqueId</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gid</span>
        <span class="l l-Scalar l-Scalar-Plain">geomType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">point</span>
        <span class="l l-Scalar l-Scalar-Plain">geomField</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">geom</span>
        <span class="l l-Scalar l-Scalar-Plain">srid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4326</span>
    <span class="l l-Scalar l-Scalar-Plain">openFormAfterEdit</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">zoomScaleDenominator</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
    <span class="l l-Scalar l-Scalar-Plain">allowEditData</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDelete</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">allowDigitize</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">popup</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<p>Die möglichen Optionen sind:</p>
<ul class="simple">
<li><strong>label:</strong> Beschriftung mit dem Namen der Erfassungsoberfläche</li>
<li><strong>maxResults:</strong> maximale Trefferanzahl</li>
<li><strong>minScale:</strong> Minimaler Maßstab, ab dem die Features in der Karte angezeigt werden (z.B. minscale: 5000 = Anzeige ab einem Maßstab über 1:5000, beim rauszoomen)</li>
<li><strong>featureType:</strong> Verbindung zur Datenbank<ul>
<li>connection: Name der Datenbank-Verbindung aus der parameters/config.yml</li>
<li>table: Name der Tabelle, in der das FeatureType gespeichert wird</li>
<li>uniqueId: Name der Spalte mit dem eindeutigen Identifier</li>
<li>geomType: Geometrietyp</li>
<li>geomField: Attributspalte, in der die Geometrie liegt.</li>
<li>srid: Koordinatensystem im EPSG-Code</li>
</ul>
</li>
<li><strong>openFormAfterEdit:</strong> Nach der Erfassung einer Geometrie öffnet sich das Erfassungsformular. [true/false] Standard ist true.</li>
<li><strong>zoomScaleDenominator:</strong> Zoomstufen, die für das Zoomen auf das Objekt gewählt wird.</li>
<li><strong>allowEditData:</strong> Daten dürfen editiert werden [true/false]. Es erscheint eine Speichern Schaltfläche.</li>
<li><strong>allowDigitize:</strong> Daten dürfen gespeichert werden. [true/false]</li>
<li><strong>allowDelete:</strong> Daten dürfen gelöscht werden. [true/false]. Es erscheint eine Löschen Schaltfläche.</li>
<li><strong>allowDigitize:</strong> Daten dürfen neu erstellt werden. [true/false]. Bei false erscheinen keine Digitalisierungs-Schaltflächen (neuer Punkt, verschieben, etc.).</li>
<li><strong>useContextMenu:</strong> Anzeige des Kontextmenü eines Features. [true/false]</li>
<li><strong>allowCancelButton:</strong> Zeigt die Abbrechen Schaltfläche. [true/false]. Siehe <a class="reference external" href="#speichern-loschen-abbrechen">Speichern, Löschen, Abbrechen</a>.</li>
<li><strong>allowDeleteByCancelNewGeometry:</strong> Wenn auf true gestellt: Beim Neuanlegen eines Features verhält sich der Abbrechen Knopf wie der Löschen Knopf: Das Feature wird aus der Karte und der Tabelle entfernt. Dies gilt nicht bei dem Ändern eines vorhandenen Features. [true/false]</li>
<li><strong>displayOnInactive:</strong> Der aktuellen FeatureType wird weiterhin auf der Karte angezeigt, auch wenn der Digitizer in der Sidepane (Accordion, Tabs) nicht mehr aktiviert ist. [true/false]. Die Option ist, wenn angeschaltet, ein wenig tricky, da auch die einzelnen Digitizer Events noch aktiviert sind, für erfahrene Anwendern aber durchaus hilfreich.</li>
</ul>
</div>
<div class="section" id="definition-popup">
<h3>Definition Popup<a class="headerlink" href="#definition-popup" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">popup</span><span class="p p-Indicator">:</span>                  <span class="c1"># Definition des Formularfensters als PopUp-Fenster. Weitere experimentelle Anpassungsmöglichkeiten unter http://api.jqueryui.com/dialog/</span>
    <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">POI</span>     <span class="c1"># Definition des Titels vom Formularfensters</span>
    <span class="l l-Scalar l-Scalar-Plain">height</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">400</span>    <span class="c1"># Höhe des Formularfensters</span>
    <span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>     <span class="c1"># Breite des Formularfensters</span>

    <span class="c1">#modal: true   # Alles außer dem Formularfensters wird ausgegraut und die Position und Größe des Fensters ist für die Dauer der Datenaufnahme fixiert</span>
    <span class="c1">#position: {at: &quot;left+20px&quot;,  my: &quot;left top-460px&quot;}  #Positionierung des Formularfensters im Browserbereich</span>
</pre></div>
</div>
</div>
<div class="section" id="definition-der-objekttabelle">
<h3>Definition der Objekttabelle<a class="headerlink" href="#definition-der-objekttabelle" title="Permalink to this headline">¶</a></h3>
<p>Der Digitizer stellt eine Objekttabelle bereit. Über diese kann auf die Objekte gezoomt werden und das Bearbeitsformular kann geöffnet werden. Die Objekttabelle ist sortierbar. Die Breite der einzelnen Spalten kann optional in Prozent oder Pixeln angegeben werden.</p>
<ul class="simple">
<li>tableFields - Definition der Spalten für die Objekttabelle.</li>
<li>searchType <strong>all</strong> oder <strong>currentExtent</strong></li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">searchType</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">currentExtent</span>   <span class="c1"># [currentExtent|all] currentExtent listet alle Objekte im derzeitigen Kartenausschnitt. all listet alle Objekte in der Tabelle. Standard ist currentExtent.</span>
<span class="l l-Scalar l-Scalar-Plain">tableFields</span><span class="p p-Indicator">:</span>    <span class="c1"># Definition der Spalten für die Objekttabelle</span>
    <span class="l l-Scalar l-Scalar-Plain">gid</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Nr.</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">20%</span><span class="p p-Indicator">}</span>    <span class="c1"># [Tabellenspalte]: {label: [Beschriftung], width: [css-Angabe z.B. Angabe der Breite]}  # Definition einer Spalte</span>
    <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">label</span><span class="p p-Indicator">:</span> <span class="nv">Name</span> <span class="p p-Indicator">,</span> <span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">80%</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="dateireiter-type-tabs">
<h3>Dateireiter (type tabs)<a class="headerlink" href="#dateireiter-type-tabs" title="Permalink to this headline">¶</a></h3>
<p>Die Formularelemente können in verschiedenen Reitern dargestellt werden. Dazu dient das formItem type &#8220;tabs&#8221;.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">formItems</span><span class="p p-Indicator">:</span>
   <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tabs</span>                      <span class="c1"># Type tabs erzeugt Reiter im Erfassungsformular</span>
     <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>                       <span class="c1"># Die Reiter werden als Unterobjekte (children) vom Type form definiert.</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">form</span>
         <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Basic information</span>    <span class="c1"># Titel des Reiters</span>
         <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">padding</span><span class="p p-Indicator">:</span> <span class="nv">10px</span><span class="p p-Indicator">}</span>
         <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>                   <span class="c1"># Durch mehrere Unterobjekte in Gruppen können Angaben im Formular nebeneinander angeordnet werden.</span>
             <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>
               <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Welcome to the digitize demo. Try the new Mapbender3 feature!</span>
               <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</div>
<div class="section" id="textfelder-type-input">
<h3>Textfelder (type input)<a class="headerlink" href="#textfelder-type-input" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>                    <span class="c1"># Typ Textfeld</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Title for the field</span>     <span class="c1"># Beschriftung mit dem Titel des Feldes (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">column_name</span>              <span class="c1"># Referenz zur Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>                <span class="c1"># Angabe ob Pflichtfeld (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">You have to provide information.</span> <span class="c1"># Text sofern Pflichtfeld nicht gefüllt ist</span>
  <span class="l l-Scalar l-Scalar-Plain">infoText</span><span class="p p-Indicator">:</span> <span class="s">&#39;Bitte</span><span class="nv"> </span><span class="s">geben</span><span class="nv"> </span><span class="s">Sie</span><span class="nv"> </span><span class="s">einen</span><span class="nv"> </span><span class="s">Wert</span><span class="nv"> </span><span class="s">an&#39;</span> <span class="c1"># Definition eines Informationstextes</span>
  <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="s">&#39;default</span><span class="nv"> </span><span class="s">Text&#39;</span>          <span class="c1"># Definition eines Standard-Wertes  (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">placeholder</span><span class="p p-Indicator">:</span> <span class="s">&#39;please</span><span class="nv"> </span><span class="s">edit</span><span class="nv"> </span><span class="s">this</span><span class="nv"> </span><span class="s">field&#39;</span> <span class="c1"># Platzhalter, der vor der Eingabe erscheint (optional)</span>
</pre></div>
</div>
</div>
<div class="section" id="auswahlboxen-selectbox-oder-multiselect-type-select">
<h3>Auswahlboxen (selectbox oder multiselect [type select])<a class="headerlink" href="#auswahlboxen-selectbox-oder-multiselect-type-select" title="Permalink to this headline">¶</a></h3>
<p>Durch die Definition einer Auswahlbox können vordefinierte Werte im Formular genutzt werden.
Hier wird in eine Auswahlbox mit einem wählbaren Eintrag (type select) und einer Auswahlbox mit mehreren auswählbaren Einträgen (type multiselect) unterschieden.</p>
<p><strong>(1) select - ein Eintrag kann ausgewählt werden</strong></p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>                     <span class="c1"># Typ Auswahlbox</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select some types</span>         <span class="c1"># Beschriftung mit dem Titel des Feldes (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my_type</span>                    <span class="c1"># Referenz zur Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">multiple</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>                  <span class="c1"># Definition einer Mehrfachauswahl (multiselect), Standard ist false</span>
  <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span>                         <span class="c1"># Definition der Optionen (key: value)</span>
      <span class="l l-Scalar l-Scalar-Plain">1</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pub</span>
      <span class="l l-Scalar l-Scalar-Plain">2</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
      <span class="l l-Scalar l-Scalar-Plain">3</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pool</span>
      <span class="l l-Scalar l-Scalar-Plain">4</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">garden</span>
      <span class="l l-Scalar l-Scalar-Plain">5</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">playground</span>
</pre></div>
</div>
<p><strong>(2) multiselect - mehrere Einträge können ausgewählt werden</strong></p>
<p>Multiselect-Box wird durch das attribute &#8220;multiple: true&#8221; aktiviert. Es können mehrere Einträge ausgewählt werden. Die Nutzung und die Voraussetzungen der Datenbank können da variieren. Bei dem oben beschriebenen Beispiel können die Interessen in den POI als Multiobjekte abgespeichert werden. Das Datenbankfeld ist weiterhin  ein character varying.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span>
  <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>
  <span class="l l-Scalar l-Scalar-Plain">multiple</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Interests</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">interests</span>
  <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">maps</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">maps</span>
    <span class="l l-Scalar l-Scalar-Plain">reading</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">reading</span>
    <span class="l l-Scalar l-Scalar-Plain">swimming</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">swimming</span>
    <span class="l l-Scalar l-Scalar-Plain">dancing</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dancing</span>
    <span class="l l-Scalar l-Scalar-Plain">beer</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">beer</span>
    <span class="l l-Scalar l-Scalar-Plain">flowers</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">flowers</span>
</pre></div>
</div>
<p>Das SQL (wenn maps und reading abgespeichert wurden):</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">gisdb</span><span class="o">=&gt;</span> <span class="k">select</span> <span class="n">interests</span> <span class="k">from</span> <span class="n">poi</span> <span class="k">where</span> <span class="n">gid</span><span class="o">=</span><span class="mi">3</span><span class="p">;</span>
<span class="n">interests</span>
<span class="c1">--------------</span>
<span class="n">maps</span><span class="p">,</span><span class="n">reading</span>
<span class="p">(</span><span class="mi">1</span> <span class="k">row</span><span class="p">)</span>
</pre></div>
</div>
<p>Beim Abspeichern von Einträgen werden die Schlüsselwörter in der Datenbank abgelegt (Bsp.: &#8220;dancing: Tanzen&#8221; und &#8220;flowers: Blumen&#8221; speichert &#8220;dancing,flowers&#8221;).</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>                       <span class="c1"># Typ Auswahlbox</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Wählen Sie einen Typ aus</span>    <span class="c1"># Beschriftung mit dem Titel des Feldes (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my_type</span>                      <span class="c1"># Referenz zur Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">multiple</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>                     <span class="c1"># Definition einer Mehrfachauswahl (multiselect), Standard ist false</span>
  <span class="l l-Scalar l-Scalar-Plain">options</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">a</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">a</span>                             <span class="c1"># Definition der Optionen (key: value)</span>
    <span class="l l-Scalar l-Scalar-Plain">b</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">b</span>
    <span class="l l-Scalar l-Scalar-Plain">c</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">c</span>
</pre></div>
</div>
<p><strong>Füllen der Auswahlboxen über eine SQL Abfrage</strong></p>
<p>Mit einer SQL Abfrage können die Werte direkt aus der Datenbank gezogen werden. Dabei ist zu beachten, dass die key-value zuordnungen wegfallen und nur noch die Indizes abgespeichert werden.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select</span>                     <span class="c1"># Typ Auswahlbox</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">select some types</span>         <span class="c1"># Beschriftung (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">my_type</span>                    <span class="c1"># Referenz zu Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">connection</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">connectionName</span>       <span class="c1"># Definition einer Datenbankverbindung (connection)</span>
  <span class="l l-Scalar l-Scalar-Plain">sql</span><span class="p p-Indicator">:</span> <span class="s">&#39;SELECT</span><span class="nv"> </span><span class="s">DISTINCT</span><span class="nv"> </span><span class="s">key,</span><span class="nv"> </span><span class="s">value</span><span class="nv"> </span><span class="s">FROM</span><span class="nv"> </span><span class="s">tableName</span><span class="nv"> </span><span class="s">order</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">value&#39;</span> <span class="c1"># Definition SQL, Abfrage der Werte key und value</span>
</pre></div>
</div>
</div>
<div class="section" id="texte-label-type-label">
<h3>Texte/Label (type label)<a class="headerlink" href="#texte-label-type-label" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">label</span>      <span class="c1"># Typ Label schreibt einen nicht bearbeitbaren Text in das Formularfenster.</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="s">&#39;Please</span><span class="nv"> </span><span class="s">give</span><span class="nv"> </span><span class="s">information</span><span class="nv"> </span><span class="s">about</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">poi.&#39;</span> <span class="c1"># Definition eines nicht bearbeitbaren Textes.</span>
</pre></div>
</div>
</div>
<div class="section" id="texte-type-text">
<h3>Texte (type text)<a class="headerlink" href="#texte-type-text" title="Permalink to this headline">¶</a></h3>
<p>Im Formular können Texte definiert werden. Hierbei kann auf Felder der Datenquelle zugegriffen werden, dazu wird JavaScript verwendet.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">text</span>              <span class="c1"># Typ text zur Generierung von dynamischen Texten aus der Datenbank</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span>       <span class="l l-Scalar l-Scalar-Plain">Name</span>       <span class="c1"># Beschriftung (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>        <span class="l l-Scalar l-Scalar-Plain">name</span>       <span class="c1"># Referenz zu Tabellenspalte, dessen Inhalt angezeigt werden soll</span>
  <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span>         <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">80%</span><span class="p p-Indicator">}</span> <span class="c1"># CSS Definition (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">text</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">data.gid + &#39;</span><span class="p p-Indicator">:</span> <span class="s">&#39;</span><span class="nv"> </span><span class="s">+</span><span class="nv"> </span><span class="s">data.name</span>
  <span class="s">#</span><span class="nv"> </span><span class="s">Text</span><span class="nv"> </span><span class="s">Definition</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">JavaScript</span>
  <span class="s">#</span><span class="nv"> </span><span class="s">data</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">Angabe,</span><span class="nv"> </span><span class="s">dass</span><span class="nv"> </span><span class="s">Datenbankfeld</span><span class="nv"> </span><span class="s">aus</span><span class="nv"> </span><span class="s">der</span><span class="nv"> </span><span class="s">Tabelle</span><span class="nv"> </span><span class="s">angesprochen</span><span class="nv"> </span><span class="s">wird.</span>
  <span class="s">#</span><span class="nv"> </span><span class="s">z.B.:</span><span class="nv"> </span><span class="s">data.gid</span><span class="nv"> </span><span class="s">--&gt;</span><span class="nv"> </span><span class="s">Anzeige</span><span class="nv"> </span><span class="s">der</span><span class="nv"> </span><span class="s">ID</span><span class="nv"> </span><span class="s">der</span><span class="nv"> </span><span class="s">Geometrie</span><span class="nv"> </span><span class="s">im</span><span class="nv"> </span><span class="s">Textfeld</span>
</pre></div>
</div>
</div>
<div class="section" id="textbereiche-type-textarea">
<h3>Textbereiche (type textArea)<a class="headerlink" href="#textbereiche-type-textarea" title="Permalink to this headline">¶</a></h3>
<p>Ähnlich zum Textfeld über type input (siehe oben) können hier Textbereiche erzeugt werden, die bei type textArea mehrere Zeilen umfassen können.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">textArea</span>      <span class="c1"># Typ textArea erzeugt einen Textbereich</span>
  <span class="l l-Scalar l-Scalar-Plain">rows</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>             <span class="c1"># Anzahl der Zeilen für den Textbereich, die beim Öffnen des Formulars erscheinen. Feld kann per Maus im Formular größer gezogen werden.</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">beschreibung</span>  <span class="c1"># Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Bestandsaufnahme Bemerkung</span> <span class="c1"># Beschriftung (optional)</span>
</pre></div>
</div>
</div>
<div class="section" id="trennlinien-type-breakline">
<h3>Trennlinien (type breakline)<a class="headerlink" href="#trennlinien-type-breakline" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">breakline</span>      <span class="c1"># fügt eine einfache Trennlinie ein</span>
</pre></div>
</div>
</div>
<div class="section" id="checkboxen-type-checkbox">
<h3>Checkboxen (type checkbox)<a class="headerlink" href="#checkboxen-type-checkbox" title="Permalink to this headline">¶</a></h3>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span>  <span class="l l-Scalar l-Scalar-Plain">checkbox</span>        <span class="c1"># Typ checkbox erzeugt eine Checkbox. Beim Aktivieren wird in die Datenbank der angegebene Value (hier &#39;TRUE&#39;) geschrieben.</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Is this true?</span>   <span class="c1"># Beschriftung (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span>  <span class="l l-Scalar l-Scalar-Plain">public</span>          <span class="c1"># Referenz zu Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>            <span class="c1"># angegebener Parameter beim Aktivieren der Checkbox wird in DB gespeichert (hier &#39;TRUE&#39;).</span>
</pre></div>
</div>
</div>
<div class="section" id="pflichtfelder">
<h3>Pflichtfelder<a class="headerlink" href="#pflichtfelder" title="Permalink to this headline">¶</a></h3>
<p>Die Hinweise für ein Pflichtfeld erscheinen über dem jeweiligen Feldern. Bei einer fehlenden Angabe in einem definierten Pflichtfeld wird dieses rot umrandet und (wenn vorher definiert) erscheinen Hinweise. Das Objekt kann nicht gespeichert werden, wenn Pflichtangaben fehlen.</p>
<p>Hinweis: Bei der Nutzung von mehreren Reitern in dem Formular kann es sein, dass der Erfasser bei einem Pflichtfeld auf einem nicht sichtbaren Reiter eine Angabe falsch setzt und das Abspeichern daher nicht funktioniert.
Hier erscheint keine Fehlermeldung außerhalb des Formulars. Der Erfasser muss die Angaben in dem Formular überprüfen (Kennzeichen: rote Umrandung/ Sprechblase mit Hinweis), bevor diese korrekt abgespeichert werden können.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span>  <span class="p p-Indicator">[</span><span class="nv">Angabe zum Feldtyp</span><span class="p p-Indicator">]</span>           <span class="c1"># jedes Feld kann zum Pflichtfeld gemacht werden</span>

  <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>                       <span class="c1"># true - Das Feld muss gefüllt werden. Ansonsten kann der Datensatz nicht gespeichert werden. Bei der Definition sind auch reguläre Ausdrücke möglich.</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatorytitle</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Pflichtfeld füllen!</span>   <span class="c1"># Text der im Feld angezeigt wird, wenn das Feld nicht gefüllt wird oder mit einem ungültigen Wert gefüllt wird.</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Bitte eine Zahl eingeben!</span> <span class="c1"># Text der in einer Sprechblase über dem Feld angezeigt wird, wenn das Feld beim Speichern nicht gefüllt ist oder mit einem ungültigen Wert gefüllt ist.</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/^\w+$/gi</span>                  <span class="c1"># Es können auch reguläre Ausdrücke angegeben werden, um die Eingabe zu überprüfen (z.B. Email oder numbers) Weitere Informationen unter: http://wiki.selfhtml.org/wiki/JavaScript/Objekte/RegExp</span>

  <span class="c1"># Prüfung, ob die Eingabe eine Zahl ist</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatory</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">/^[0-9]+$/</span>
  <span class="l l-Scalar l-Scalar-Plain">mandatoryText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Bitte eine Zahl eingeben!</span>
</pre></div>
</div>
</div>
<div class="section" id="datumsauswahl-type-date">
<h3>Datumsauswahl (type date)<a class="headerlink" href="#datumsauswahl-type-date" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_datepicker.png"><img alt="../../../../../_images/digitizer_datepicker.png" src="../../../../../_images/digitizer_datepicker.png" style="width: 144.0px; height: 168.0px;" /></a>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date</span>              <span class="c1"># Textfeld, das eine Datumsauswahl bereitstellt</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">favorite Date</span>    <span class="c1"># Beschriftung (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">date_favorite</span>     <span class="c1"># Referenz zu Tabellenspalte</span>
  <span class="l l-Scalar l-Scalar-Plain">placeholder</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Bitte geben Sie das Datum in der folgende Form an dd.mm.yy</span>  <span class="c1"># Platzhalter für die Datumsauswahl (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">dateFormat</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dd.mm.yy</span>     <span class="c1"># Format für die Datumsanzeige, Standardformat dd.mm.yy (16.01.2016). Weitere Beispiele yy/mm/dd (2017/01/16) oder yy-mm-dd (2017-01-16).</span>
  <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">01.01.2017</span>        <span class="c1"># Startwert für die Datumsauswahl (optional)</span>
</pre></div>
</div>
<p>Bei der Nutzung einer Spalte mit dem Tabellenformat date wird das angegebene Datum unabhängig von der Angabe dateFormat in dem Format YYYY-MM-DD in die date-Datenbankspalte geschrieben.
Fallls der Parameter dateFormat genutzt wird für eine andere Ansicht oder Abspeicherung muss ein Tabellenfeld im Textformat (z.B. date_text varchar) angelegt werden.</p>
</div>
<div class="section" id="hilfetexten-zu-den-eingabefeldern-attribut-infotext">
<h3>Hilfetexten zu den Eingabefeldern (Attribut infoText)<a class="headerlink" href="#hilfetexten-zu-den-eingabefeldern-attribut-infotext" title="Permalink to this headline">¶</a></h3>
<p>Anders als bei Hifetexten zu den Pflichtfeldern kann der Infotext über jedem Feld erscheinen, unabhängig davon, ob dieses ein Pflichtfeld ist oder nicht. Bei der Angabe infotext: [Text] erscheint ein Info-Button über dem jeweiligen Feld.
Der Klick auf diesen Button öffnet den angegebenen Informationstext.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span>  <span class="p p-Indicator">[</span><span class="nv">Angabe zum Feldtyp</span><span class="p p-Indicator">]</span>           <span class="c1"># jedes Feld kann einen Infotext nutzen</span>

  <span class="l l-Scalar l-Scalar-Plain">infoText</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">In dieses Feld dürfen nur Zahlen eingegeben werden</span>  <span class="c1"># Hinweistext, der angezeigt wird über i-Symbol.</span>
</pre></div>
</div>
</div>
<div class="section" id="gruppierungen-type-fieldset">
<h3>Gruppierungen (type: fieldSet)<a class="headerlink" href="#gruppierungen-type-fieldset" title="Permalink to this headline">¶</a></h3>
<p>Elemente können in einer Zeile gruppiert werden, um logische Einheiten zu bilden oder um Platz zu sparen. Hierbei muss ein fieldSet definiert werden. Anschließend können die Elemente der Gruppe unter children angegeben werden.
Für jedes Gruppenelement kann eine Breite über CSS angegeben werden, um die Aufteilung der Zeile für die angegebenen Elemente zu kontrollieren.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fieldSet</span>            <span class="c1"># Gruppierung von Feldern, unabhängig vom Feldtyp</span>
  <span class="l l-Scalar l-Scalar-Plain">children</span><span class="p p-Indicator">:</span>                 <span class="c1"># Angabe der Gruppenelemente unter children</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Vorname</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">firstname</span>
        <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">30%</span><span class="p p-Indicator">}</span>   <span class="c1"># Angabe der Breite des Gruppenelements. Zusammen sollten die Elemente 100% ergeben.</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Nachname</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lastname</span>
        <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">30%</span><span class="p p-Indicator">}</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">input</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">E-Mail</span>
        <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">email</span>
        <span class="l l-Scalar l-Scalar-Plain">css</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span><span class="nv">width</span><span class="p p-Indicator">:</span> <span class="nv">40%</span><span class="p p-Indicator">}</span>
</pre></div>
</div>
</div>
<div class="section" id="dateiupload-type-file">
<h3>Dateiupload (type file)<a class="headerlink" href="#dateiupload-type-file" title="Permalink to this headline">¶</a></h3>
<p>Über den Dateiupload können Dateien durch die Angabe in einer Datenbankspalte im Formular verknüpft werden. Dazu werden die hochgeladenen Dateien im Mapbender3 gespeichert und der Pfad in der Spalte vermerkt.</p>
<p>Der Speicherpfad und der Name der abgespeicherten Dateien kann bis jetzt nicht verändert werden. Der Dateiupload speichert immer in das gleiche Verzeichnis und baut sich aus den Parametern:</p>
<ul class="simple">
<li>Tabellenname</li>
<li>Spaltenname</li>
<li>Dateiname</li>
</ul>
<p>auf.</p>
<p>Das Verzeichnis ist:</p>
<ul class="simple">
<li>&lt;mapbender&gt;/web/uploads/featureTypes/[tabellenname]/[spaltenname]/[dateiname].png</li>
</ul>
<p>Die in der Datenbank verlinkte URL ist:</p>
<ul class="simple">
<li><a class="reference external" href="http://localhost/mapbender/uploads/featureTypes/[tabellenname]/[spaltenname]/[dateiname].png">http://localhost/mapbender/uploads/featureTypes/[tabellenname]/[spaltenname]/[dateiname].png</a></li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">file</span>                <span class="c1"># Typ file für das Hochladen von Dateien</span>
  <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Dateiupload</span>        <span class="c1"># Beschriftung (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">text</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Laden Sie ein Bild hoch.</span> <span class="c1"># Informationstext zum Feld (optional)</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">file_reference</span>      <span class="c1"># Angabe der Datenbankspalte, in die der Speicher-Pfad geschrieben wird</span>


  <span class="c1"># Experimentelle Parameter:</span>
  <span class="c1">#accept: image/*          # Vorauswahl von Elementen im Image-Format (Fenster für Dateiupload öffnet sich mit Einschränkungsfilter)</span>
                            <span class="c1"># Es können jedoch weiterhin auch andere Dateiformate hochgeladen werden.</span>
</pre></div>
</div>
<p><strong>Anmerkungen:</strong> Es wird momentan noch ein &#8220;thumbnail&#8221; Verzeichnis angelegt, dass eine kleinere Version der Bilder beinhaltet. Dieses wird in weiteren Entwicklungsphasen noch verändert.</p>
<p>Für die Ansicht von hochgeladenen Bildern kann die Bildanzeige dazugenommen werden.</p>
</div>
<div class="section" id="bildanzeige-type-image">
<h3>Bildanzeige (type image)<a class="headerlink" href="#bildanzeige-type-image" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_image.png"><img alt="../../../../../_images/digitizer_image.png" src="../../../../../_images/digitizer_image.png" style="width: 400.0px; height: 398.4px;" /></a>
<p>Für die Ansicht eines Bildes im Formular kann das Bild-Element genutzt werden. Durch die Angabe einer URL in einem Datenbankfeld oder einer URL über den src-Parameter können Bilder angezeigt werden.</p>
<p>Bilder, die durch das Element Dateiupload in einer Tabellenspalte vermerkt sind können somit auch direkt eingebunden und angezeigt werden.</p>
<p>Das Bild lässt sich durch die Angabe von den beiden Parametern src und name angeben.</p>
<ul class="simple">
<li><strong>src</strong>: Url-Pfad oder Dateipfad (kann relativer Pfad sein)</li>
<li><strong>name</strong>: Url-Pfad oder Dateipfad wird aus der Tabellenspalte übernommen (kann kein relativer Pfad sein)</li>
<li>Anagbe von <strong>name</strong> und <strong>src</strong> zusammen: Der Inhalt der Datenbankspalte aus name wird genommen. Falls die Spalte leer ist wird die src-Angabe genutzt.</li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">image</span>               <span class="c1"># Type image für das Anzeigen von Bildern</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">file_reference</span>      <span class="c1"># Referenz zur Datenbankspalte. Wenn definiert, wird der Pfad oder die URL in dem Feld ermittelt und &quot;src&quot; Option ersetzt</span>
  <span class="l l-Scalar l-Scalar-Plain">src</span><span class="p p-Indicator">:</span> <span class="s">&quot;bundles/mapbendercore/image/logo_mb3.png&quot;</span>  <span class="c1"># Angabe eines Pfades oder URL zu einem Bild. Falls der relative Pfad genutzt wird muss relative: true stehen.</span>
  <span class="l l-Scalar l-Scalar-Plain">enlargeImage</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>        <span class="c1"># Bild wird beim Klick auf das Vorschaubild auf Originalgröße/maximale Auflösung vergrößert. Es wird nicht auf die Bildschirmgröße skaliert.</span>

  <span class="c1"># Experimentelle Angaben zum Styling</span>
  <span class="l l-Scalar l-Scalar-Plain">imageCss</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">width</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100%</span>              <span class="c1"># Image CSS Style: Skaliert das Vorschaubild in dem Formular, abweichend von der Originalgröße in Prozent.</span>
</pre></div>
</div>
<p><strong>Achtung</strong>: Wenn nur name und nicht name und src angegeben wird, erscheint bei leeren Spalteneinträgen ein Bild aus dem vorherigen Dateneintrag.</p>
<p>Dynamische Pfade (z.B. &#8220;bundles/mapbendercore/image/[nr].png&#8221; oder &#8216;bundles/mapbendercore/image/&#8217; + data.image_reference) können nicht angegeben werden.</p>
<p>Eine Möglichkeit das zu Umgehen wäre ein Trigger, der in die Datenbankspalte beim Insert den Pfad und den Inhalt eines Tabellenfeldes als Name zusammenführt.</p>
</div>
<div class="section" id="definition-der-zur-verfugung-stehenden-werkzeuge-toolset-type">
<h3>Definition der zur Verfügung stehenden Werkzeuge (Toolset Type)<a class="headerlink" href="#definition-der-zur-verfugung-stehenden-werkzeuge-toolset-type" title="Permalink to this headline">¶</a></h3>
<p>Werkzeugliste:</p>
<ul class="simple">
<li><strong>drawPoint</strong> - Punkt erstellen</li>
<li><strong>drawLine</strong> - Line erstellen</li>
<li><strong>drawPolygon</strong> - Polygone erstellen</li>
<li><strong>drawRectangle</strong> - Rechteck erstellen</li>
<li><strong>drawCircle</strong> - Circle erstellen</li>
<li><strong>drawEllipse</strong> - Ellipse erstellen</li>
<li><strong>drawDonut</strong> - Donut erstellen oder die bestehende Geometrien editieren</li>
<li><strong>modifyFeature</strong> - einzelne Knotenpunkte bei Geometrien verschieben</li>
<li><strong>moveFeature</strong> - Geometrien verschieben</li>
<li><strong>selectFeature</strong> - Geometrien de-/selektieren (experimentell). Es findet noch keine Interaktion mit der Tabelle statt und die zur Verfügung stehenden Workflows beschränken sich auf das Löschen.</li>
<li><strong>removeSelected</strong> - die selektierten Geometrien löschen (experimentell). Löscht alle in der Karte selektierten Objekte.</li>
<li><strong>removeAll</strong> - Vorsicht: alle Geometrien aus der Tabelle löschen</li>
</ul>
<p>Definition der für die Erfassung verwendeten Toolset Typen</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">polygon</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">toolset</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawPolygon</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawRectangle</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">drawDonut</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">removeSelected</span>
</pre></div>
</div>
</div>
<div class="section" id="suche-in-den-tabellen-inline-search">
<h3>Suche in den Tabellen (inline Search)<a class="headerlink" href="#suche-in-den-tabellen-inline-search" title="Permalink to this headline">¶</a></h3>
<p>Über die Suche können Begriffe in der Tabelle gesucht werden.
Die aktivierte Sucheleiste erscheint über der Tabelle und nach der Eingabe eines Suchbegriffs werden alle Spalten dieser Tabelle durchsucht und deren Ergebnisse angezeigt.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
    <span class="l l-Scalar l-Scalar-Plain">inlineSearch</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>      <span class="c1"># Suche in den Tabellenspalten, Standard ist true</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</div>
<div class="section" id="kontextmenu">
<h3>Kontextmenü<a class="headerlink" href="#kontextmenu" title="Permalink to this headline">¶</a></h3>
<p>Über das Kontextmenü kann ein Objekt auf der Karte näher betrachtet werden.
Nach der Aktivierung kann man über den rechten Mausklick auf einem Objekt ein Kontextmenü öffnen.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_contextmenu.png"><img alt="../../../../../_images/digitizer_contextmenu.png" src="../../../../../_images/digitizer_contextmenu.png" style="width: 472.8px; height: 312.8px;" /></a>
<p>Elemente des Kontextmenüs:</p>
<ul class="simple">
<li><strong>Heranzoomen:</strong> Auf den Kartenausschnitt des Objekts zoomen.</li>
<li><strong>Bearbeiten:</strong> Informationen zu dem Objekt verändern. Klick öffnet die Digitalisieroberfläche.</li>
<li><strong>Löschen:</strong> Löscht das ausgewählte Objekt.</li>
</ul>
<p>Ist die korrespondierende <a class="reference external" href="#basisdefinition">Basisdefinition</a> (allowEditData, allowDelete) nicht definiert, stehen diese auch im Kontextmenü nicht zur Verfügung. In dem oben stehenden Beispiel steht für die Polygone die Löschen-Funktion nicht zur Verfügung.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
    <span class="l l-Scalar l-Scalar-Plain">useContextMenu</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</div>
<div class="section" id="clustering-experimentell">
<h3>Clustering (experimentell)<a class="headerlink" href="#clustering-experimentell" title="Permalink to this headline">¶</a></h3>
<p>Über das Clustering können die Objekte auf der Karte zusammengefasst werden.
Abhängig von der definerten Distanz und Zoomstufe werden unterschiedlich viele Objekte zusammengeführt.</p>
<p>Durch die Komplexität des Clusterings können sich in zukünftigen Versionen noch Änderungen an der Funktion und der Syntax ergeben, so dass wir dieses Feature bislang als experimentell kennzeichnen. Abhängigkeiten existieren zu der Anzeige der Features für den aktuellen Ausschnitt/den gesamten Bereich und den unterschiedlichen Geometrietypen.</p>
<a class="reference internal image-reference" href="../../../../../_images/digitizer_clustering.png"><img alt="../../../../../_images/digitizer_clustering.png" src="../../../../../_images/digitizer_clustering.png" style="width: 396.8px; height: 243.2px;" /></a>
<p>Definition der Clusterelemente:</p>
<ul class="simple">
<li><strong>scale:</strong> Zoomstufe.</li>
<li><strong>distance:</strong> Distanz zwischen einzelne Features in Metern, die zusammengefügt werden.</li>
<li><strong>disable:</strong> Schaltet Clustering für die Zoomstufe ab.</li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
    <span class="l l-Scalar l-Scalar-Plain">clustering</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span>
            <span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>        <span class="c1"># Zoomstufe</span>
            <span class="l l-Scalar l-Scalar-Plain">distance</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>        <span class="c1"># Distanz zwischen einzelne Features in Metern, die zusammengefügt werden</span>
        <span class="p p-Indicator">-</span>
            <span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2500</span>
            <span class="l l-Scalar l-Scalar-Plain">distance</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">40</span>
        <span class="p p-Indicator">-</span>
            <span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
            <span class="l l-Scalar l-Scalar-Plain">distance</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
        <span class="p p-Indicator">-</span>
            <span class="l l-Scalar l-Scalar-Plain">scale</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">500</span>
            <span class="l l-Scalar l-Scalar-Plain">distance</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="l l-Scalar l-Scalar-Plain">disable</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>       <span class="c1"># Schaltet Clustering für die Zoomstufe ab</span>
    <span class="p p-Indicator">[</span><span class="nv">...</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<div class="section" id="events">
<h3>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h3>
<p>Es gibt mehrere Events, die zu einem Feature zugeordnet werden können, um Attribute vor oder nach der Aktion zu manipulieren.</p>
<ul class="simple">
<li><strong>onBeforeSave</strong>: Event vor dem Speichern von neuen/ veränderten Informationen</li>
<li><strong>onAfterSave</strong>: Event nach dem Speichern von neuen/ veränderten Informationen</li>
<li><strong>onBeforeUpdate</strong>: Event vor der Aktualisierung von veränderten Informationen</li>
<li><strong>onAfterUpdate</strong>: Event nach der Aktualisierung von veränderten Informationen</li>
<li><strong>onBeforeSearch</strong>: Event vor dem Suchen in SearchField des Digitizers</li>
<li><strong>onAfterSearch</strong>: Event nach dem Suchen in SearchField des Digitizers</li>
<li><strong>onBeforeRemove</strong>: Event vor dem Löschen von Daten</li>
<li><strong>onAfterRemove</strong>: Event nach dem Löschen von Daten</li>
</ul>
<p>Im Unterschied zu den Save-Events arbeiten die Update-Events nur bei einer Aktualisierung der Daten, nicht bei einer Erstellung.</p>
<p><strong>Anmerkung:</strong> Die Events sind noch in der Entwicklung und sollten mit Voraussicht eingebunden werden.
Die korrekte Abstimmung der Events aufeinander und ihre Abhängigkeiten sind noch nicht vollständig fertiggestellt und können sich in zukünftigen Versionen ändern.</p>
<p>Im folgenden einige Anwendungsbeispiele.</p>
<p><strong>Speichern von Sachdaten in zusätzlichen Attributspalten:</strong></p>
<p>Das folgende Beispiel zeigt, wie Daten beim Speichern in eine zusätzliche Attributspalte geschrieben werde können. Hier geschieht das mit den Spalten &#8220;geom&#8221; und &#8220;geom2&#8221;. Beim Speichern sollen die Daten von geom in das Feld geom2 geschrieben werden.</p>
<p>Man kann das Event je nach Anwendungsfall bei onBeforeInsert oder onBeforeUpdate eintragen.</p>
<p>Da zum Zeitpunkt des Editierens die Geometrie noch nicht persistent in der Datenbank ist, kann man auf sie nicht als Feature zugreifen, sondern nur über das jeweilige &#8220;item&#8221;, eine interne Digitizer Speicherstruktur. Diese &#8220;item&#8221; orientieren sich am Formular und den dort angegebenen Attributen.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">events</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">onBeforeInsert</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$item[&#39;geom2&#39;] = $item[&#39;geom&#39;];</span>
  <span class="l l-Scalar l-Scalar-Plain">onBeforeUpdate</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">$item[&#39;geom2&#39;] = $item[&#39;geom&#39;];</span>
</pre></div>
</div>
<p>Bei dem Event wird der Wert des Feldes &#8220;geom2&#8221; mit dem Wert des Feldes &#8220;geom&#8221; überschrieben.</p>
<p><strong>Speichern unterschiedlicher Geometrietypen:</strong></p>
<p>Dieses Szenario kann man zu einem konsturierten Beispiel erweitern, in dem gleichzeitig unterschiedliche Geometrietypen geschrieben werden. Mithilfe von PostGIS können Linien in Punkte interpoliert werden. Im Digitizer kann ein Event genutzt werden, um das richtige SQL Statement abzuschicken.</p>
<div class="highlight-sql"><div class="highlight"><pre>events:
  onBeforeInsert: |
    $sql = &quot;SELECT
    ST_Line_Interpolate_Point(&#39;&quot;.$item[&#39;geomline&#39;].&quot;&#39;::geometry, 1) as geom&quot;;
    $stmnt = $this-&gt;getConnection()-&gt;prepare($sql);
    $stmnt-&gt;execute();
    $result  = $stmnt-&gt;fetchAll();
    $item[&#39;geompoi&#39;] = $result[0][&#39;geom&#39;];
</pre></div>
</div>
<p>Hier wird das onBeforeInsert-Event genommen. Der Längsstrich &#8216;|&#8217; hinter dem Event zeigt einen mehrzeiligen Block an. Dieser Block besteht aus PHP-Code, der ein SQL-Statement weiterleitet. Das SQL Statement ruft die ST_Line_Interpolate_Point Funktion auf und übergibt die Geometrie der gezeichneten Linie. Da diese noch nicht persistent ist, greift man über das &#8220;item&#8221; auf die Geometrie (geomline). Die restlichen Zeilen bauen das SQL Statement zusammen und schicken es an die im FeatureType angegebene SQL-Connection. In der letzten Zeile wird der resultierende Punkt (geompoi) in die Punktgeometrie geschrieben.</p>
</div>
<div class="section" id="darstellung-styles">
<h3>Darstellung (Styles)<a class="headerlink" href="#darstellung-styles" title="Permalink to this headline">¶</a></h3>
<p>Über die Angabe eines Styles kann definiert werden, wie die Objekte angezeigt werden.
<em>Default</em> definiert dabei die normale Darstellung der Objekte auf der Karte und <em>Select</em> die Darstellung der ausgewählten Objekte.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">poi</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
    <span class="l l-Scalar l-Scalar-Plain">styles</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#1289CD&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
            <span class="l l-Scalar l-Scalar-Plain">fillWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
        <span class="l l-Scalar l-Scalar-Plain">select</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeWidth</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
            <span class="l l-Scalar l-Scalar-Plain">strokeColor</span><span class="p p-Indicator">:</span> <span class="s">&#39;#0e6a9e&#39;</span>
            <span class="l l-Scalar l-Scalar-Plain">fillOpacity</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0.7</span>
            <span class="l l-Scalar l-Scalar-Plain">pointRadius</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
    <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="yaml-definition-fur-das-element-digitizer-in-der-sidepane-in-der-mapbender-yml">
<h2>YAML-Definition für das Element &#8220;digitizer&#8221; in der Sidepane in der mapbender.yml<a class="headerlink" href="#yaml-definition-fur-das-element-digitizer-in-der-sidepane-in-der-mapbender-yml" title="Permalink to this headline">¶</a></h2>
<p>Dieser Codeabschnitt zeigt, wie das Digitizer Element in eine auf einer
YAML-Datei basierende Anwendung eingebaut werden kann.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l l-Scalar l-Scalar-Plain">sidepane</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">digitizer</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">class</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Mapbender\DigitizerBundle\Element\Digitizer</span>
        <span class="l l-Scalar l-Scalar-Plain">title</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Digitalisation</span>
        <span class="l l-Scalar l-Scalar-Plain">target</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">map</span>
        <span class="l l-Scalar l-Scalar-Plain">schemes</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
</div>
<div class="section" id="class-widget-style">
<h2>Class, Widget &amp; Style<a class="headerlink" href="#class-widget-style" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Class: Mapbender\DigitizerBundle\Element\Digitizer</li>
<li>Widget: mapbender.element.digitizer.js</li>
<li>Style: sass\element\digitizer.scss</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../../../index.html">
              <img class="logo" src="../../../../../_static/mapbender3_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Digitalisierung (Digitizer)</a><ul>
<li><a class="reference internal" href="#einrichtung">Einrichtung</a><ul>
<li><a class="reference internal" href="#yaml-definition-fur-das-element-digitizer-in-der-textarea-unter-schemes">YAML-Definition für das Element digitizer in der Textarea unter schemes</a></li>
<li><a class="reference internal" href="#sql-fur-die-demo-tabellen">SQL für die Demo-Tabellen</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nutzung">Nutzung</a><ul>
<li><a class="reference internal" href="#allgemein">Allgemein</a></li>
<li><a class="reference internal" href="#geometrien-erstellen">Geometrien erstellen</a></li>
<li><a class="reference internal" href="#speichern-loschen-abbrechen">Speichern, Löschen, Abbrechen</a></li>
<li><a class="reference internal" href="#vertices">Vertices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#konfiguration">Konfiguration</a><ul>
<li><a class="reference internal" href="#basisdefinition">Basisdefinition</a></li>
<li><a class="reference internal" href="#definition-popup">Definition Popup</a></li>
<li><a class="reference internal" href="#definition-der-objekttabelle">Definition der Objekttabelle</a></li>
<li><a class="reference internal" href="#dateireiter-type-tabs">Dateireiter (type tabs)</a></li>
<li><a class="reference internal" href="#textfelder-type-input">Textfelder (type input)</a></li>
<li><a class="reference internal" href="#auswahlboxen-selectbox-oder-multiselect-type-select">Auswahlboxen (selectbox oder multiselect [type select])</a></li>
<li><a class="reference internal" href="#texte-label-type-label">Texte/Label (type label)</a></li>
<li><a class="reference internal" href="#texte-type-text">Texte (type text)</a></li>
<li><a class="reference internal" href="#textbereiche-type-textarea">Textbereiche (type textArea)</a></li>
<li><a class="reference internal" href="#trennlinien-type-breakline">Trennlinien (type breakline)</a></li>
<li><a class="reference internal" href="#checkboxen-type-checkbox">Checkboxen (type checkbox)</a></li>
<li><a class="reference internal" href="#pflichtfelder">Pflichtfelder</a></li>
<li><a class="reference internal" href="#datumsauswahl-type-date">Datumsauswahl (type date)</a></li>
<li><a class="reference internal" href="#hilfetexten-zu-den-eingabefeldern-attribut-infotext">Hilfetexten zu den Eingabefeldern (Attribut infoText)</a></li>
<li><a class="reference internal" href="#gruppierungen-type-fieldset">Gruppierungen (type: fieldSet)</a></li>
<li><a class="reference internal" href="#dateiupload-type-file">Dateiupload (type file)</a></li>
<li><a class="reference internal" href="#bildanzeige-type-image">Bildanzeige (type image)</a></li>
<li><a class="reference internal" href="#definition-der-zur-verfugung-stehenden-werkzeuge-toolset-type">Definition der zur Verfügung stehenden Werkzeuge (Toolset Type)</a></li>
<li><a class="reference internal" href="#suche-in-den-tabellen-inline-search">Suche in den Tabellen (inline Search)</a></li>
<li><a class="reference internal" href="#kontextmenu">Kontextmenü</a></li>
<li><a class="reference internal" href="#clustering-experimentell">Clustering (experimentell)</a></li>
<li><a class="reference internal" href="#events">Events</a></li>
<li><a class="reference internal" href="#darstellung-styles">Darstellung (Styles)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#yaml-definition-fur-das-element-digitizer-in-der-sidepane-in-der-mapbender-yml">YAML-Definition für das Element &#8220;digitizer&#8221; in der Sidepane in der mapbender.yml</a></li>
<li><a class="reference internal" href="#class-widget-style">Class, Widget &amp; Style</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="copyright.html"
                        title="previous chapter">Copyright</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="feature_info.html"
                        title="next chapter">Feature Info (Information)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../_sources/de/bundles/Mapbender/CoreBundle/elements/digitizer.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="feature_info.html" title="Feature Info (Information)"
             >next</a> |</li>
        <li class="right" >
          <a href="copyright.html" title="Copyright"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../index.html">Mapbender3 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../../../../index.html" >Willkommen bei der Mapbender3 Dokumentation</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../../../../bundles.html" >Bundle Dokumentation</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="../index.html" >MapbenderCoreBundle</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, The Mapbender Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>