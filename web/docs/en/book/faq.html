<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>FAQ - Frequently Asked Questions &mdash; Mapbender3 Documentation</title>
    
    <link rel="stylesheet" href="../../_static/mapbender3.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/mapbender3.ico"/>
    <link rel="top" title="Mapbender3 Documentation" href="../../index.html" />
    <link rel="up" title="The Book" href="../thebook.html" />
    <link rel="next" title="Glossary" href="glossary.html" />
    <link rel="prev" title="Mapbender templates" href="mapbender_templates.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mapbender_templates.html" title="Mapbender templates"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Mapbender3 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Welcome to Mapbender3&#8217;s documentation!</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../thebook.html" accesskey="U">The Book</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="faq-frequently-asked-questions">
<h1>FAQ - Frequently Asked Questions<a class="headerlink" href="#faq-frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<div class="section" id="services-and-their-usage-in-applications">
<h3>Services and their usage in applications<a class="headerlink" href="#services-and-their-usage-in-applications" title="Permalink to this headline">¶</a></h3>
<p>F: I would like to know in which applications a specific WMS service is registered. Is there a way to achive that?</p>
<p>A: Until we provide this information in the Administration Interface, this statement may help you:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">SELECT</span> <span class="n">mb_core_application</span><span class="p">.</span><span class="o">*</span> <span class="k">from</span> <span class="n">mb_core_application</span><span class="p">,</span> <span class="n">mb_core_layerset</span><span class="p">,</span> <span class="n">mb_core_sourceinstance</span><span class="p">,</span> <span class="n">mb_wms_wmsinstance</span><span class="p">,</span> <span class="n">mb_wms_wmssource</span><span class="p">,</span> <span class="n">mb_core_source</span>
<span class="k">where</span>
<span class="c1">-- applications and their layersets</span>
<span class="n">mb_core_application</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">mb_core_layerset</span><span class="p">.</span><span class="n">application_id</span> <span class="k">and</span>
<span class="c1">-- layersets and their instances</span>
<span class="n">mb_core_layerset</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">mb_core_sourceinstance</span><span class="p">.</span><span class="n">layerset</span> <span class="k">and</span>
<span class="c1">-- layerset-instances and wms-instance</span>
<span class="n">mb_core_sourceinstance</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">mb_wms_wmsinstance</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span>
<span class="c1">-- wms-instance and wms-source</span>
<span class="n">mb_wms_wmsinstance</span><span class="p">.</span><span class="n">wmssource</span> <span class="o">=</span> <span class="n">mb_wms_wmssource</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span>
<span class="c1">-- wms-source and mb3-core source</span>
<span class="n">mb_wms_wmssource</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">mb_core_source</span><span class="p">.</span><span class="n">id</span> <span class="k">and</span>
<span class="n">mb_core_source</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">id_of_the_wms</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>For the ID &lt;id_of_the_wms&gt; go to the Data Source page and take the number which is assigned to the specific WMS.</p>
</div>
</div>
<div class="section" id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="working-with-large-wms-clients">
<h3>Working with large wms clients<a class="headerlink" href="#working-with-large-wms-clients" title="Permalink to this headline">¶</a></h3>
<p>Q: During the upload of large wms into an application (e.g. wms with more than 100 layers), the configuration of the <a class="reference external" href="../de/bundles/Mapbender/CoreBundle/entities/layerset.html">Layerset-Instance</a> only takes and presents an incorrect amount of layers. In addition, the wms instance cannot be saved. Why?</p>
<p>A: To solve the problem, navigate to the php parameter <a class="reference external" href="http://php.net/manual/de/info.configuration.php#ini.max-input-vars">max-input_vars</a>. It defines the number of possible input variables. The default value is 1000 (depending on the php version). In a wms with many layers, the number of input values is higher than the default value. You have to change the parameter to a higher value (e.g. 2000). Notice that the number is directly dependent to the amount of layers in a wms.</p>
<div class="highlight-ini"><div class="highlight"><pre><span class="c1">;; 1000 (default) or more</span>
<span class="na">max_input_vars</span> <span class="o">=</span> <span class="s">1000</span>
</pre></div>
</div>
</div>
<div class="section" id="the-access-to-an-oracle-database-is-too-slow">
<h3>The access to an Oracle database is too slow<a class="headerlink" href="#the-access-to-an-oracle-database-is-too-slow" title="Permalink to this headline">¶</a></h3>
<p>Q: Mapbender seems to have a poor performance while accessing Oracle
databases. I noticed this because queries need more time than usual. Can I accelerate the process?</p>
<p>A: There are two parameters in php.ini which may tweak the performance of Mapbender with Oracle databases: <a class="reference external" href="http://php.net/manual/de/oci8.configuration.php#ini.oci8.max-persistent">oci8.max_persistent</a> and <a class="reference external" href="http://php.net/manual/de/oci8.configuration.php#ini.oci8.default-prefetch">oci8.default_prefetch</a>. Adjust these parameters to:</p>
<div class="highlight-bash"><div class="highlight"><pre>oci8.max_persistent <span class="o">=</span> 15
oci8.default_prefetch <span class="o">=</span> 100000
</pre></div>
</div>
<p>Furthermore, change the respective persistent database connection parameter in config.yml to true.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">persistent</span><span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
</div>
<div class="section" id="my-application-cannot-be-duplicated">
<h3>My application cannot be duplicated<a class="headerlink" href="#my-application-cannot-be-duplicated" title="Permalink to this headline">¶</a></h3>
<p>Q: I made a highly complex application and want to duplicate it, but it does not work.</p>
<p>A: A possible reason for this is that php does not allow a workflow with big files (YAML-export/import/etc.). The problem occurs especially in FastCGI. Just adjust the php parameter MaxRequestLen (you can do that in the configuration of FCGI).</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c1"># mod_fcgi.conf (Windows)</span>
<span class="c1"># set value to 2 MB</span>
<span class="nv">MaxRequestLen</span> <span class="o">=</span> 2000000

<span class="c1"># fcgid.conf (Linux)</span>
<span class="c1"># set value to 2 MB</span>
MaxRequestLen 2000000
</pre></div>
</div>
<p>Simultaneously, you should check the php values in php.ini:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">max_execution_time</span> <span class="o">=</span> 240
<span class="nv">memory_limit</span> <span class="o">=</span> 1024M
<span class="nv">upload_max_filesize</span> <span class="o">=</span> 2M
</pre></div>
</div>
</div>
</div>
<div class="section" id="development-and-manual-updates-of-modules">
<h2>Development and manual updates of modules<a class="headerlink" href="#development-and-manual-updates-of-modules" title="Permalink to this headline">¶</a></h2>
<p>Q: How can I checkout a specific branch of the Mapbender module and test it? How can I revert this again? Does Composer help me with that?</p>
<p>A: Alternative 1: Go in the directory application/mapbender and checkout the specific branch. After your tests, checkout the original branch again. Do not forget to clear the cache directory (app/cache for Symfony 2, var/cache for the upcoming Symfony 3).</p>
<p>Alternative 2: Change the entry in composer: &#8220;mapbender/mapbender&#8221;: &#8220;dev-fix/meinfix&#8221; and do a Composer Update. Keep in mind that with that step all other vendor packages will be updated (that&#8217;s OK for developers). To go back, specify the original branch. In addition go back to application/mapbender and checkout the original branch by hand.</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="attempted-to-call-function-imagecreatefrompng">
<h3>Attempted to call function &#8220;imagecreatefrompng&#8221;<a class="headerlink" href="#attempted-to-call-function-imagecreatefrompng" title="Permalink to this headline">¶</a></h3>
<p>F: I get an error when printing. I have looked into the logfiles (app/logs/prod.log) and found something like this:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nx">CRITICAL</span> <span class="o">-</span> <span class="nx">Uncaught</span> <span class="nx">PHP</span> <span class="nx">Exception</span> <span class="nx">Symfony\Component\Debug\Exception\UndefinedFunctionException</span><span class="o">:</span>
<span class="s2">&quot;Attempted to call function &quot;</span><span class="nb">imagecreatefrompng</span><span class="s2">&quot;</span>
<span class="s2">from namespace &quot;</span><span class="nx">Mapbender\PrintBundle\Component</span><span class="s2">&quot;.&quot;</span>
<span class="nx">at</span> <span class="o">/</span><span class="nx">srv</span><span class="o">/</span><span class="nx">mapbender</span><span class="o">-</span><span class="nx">starter</span><span class="o">/</span><span class="nx">application</span><span class="o">/</span><span class="nx">mapbender</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">Mapbender</span><span class="o">/</span><span class="nx">PrintBundle</span><span class="o">/</span><span class="nx">Component</span><span class="o">/</span><span class="nx">PrintService</span><span class="o">.</span><span class="nx">php</span> <span class="nx">line</span> <span class="mi">310</span>
</pre></div>
</div>
<p>A: Please make sure you have installed the php5-gd library.</p>
</div>
<div class="section" id="deprecation-notices-at-composer-or-bootstrap-script">
<h3>Deprecation Notices at composer or bootstrap Script<a class="headerlink" href="#deprecation-notices-at-composer-or-bootstrap-script" title="Permalink to this headline">¶</a></h3>
<p>F: I get a deprecation warning when I call bootstrap or composer update:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="nx">Deprecation</span> <span class="nx">Notice</span><span class="o">:</span> <span class="nx">The</span> <span class="nx">callback</span> <span class="nx">ComposerBootstrap</span><span class="o">::</span><span class="na">checkConfiguration</span> <span class="nx">declared</span> <span class="nx">at</span>
<span class="o">/</span><span class="nx">srv</span><span class="c1">//mapbender-starter/application/src/ComposerBootstrap.php accepts a Composer\Script\CommandEvent</span>
<span class="nx">but</span> <span class="nx">post</span><span class="o">-</span><span class="nx">update</span><span class="o">-</span><span class="nx">cmd</span> <span class="nx">events</span> <span class="k">use</span> <span class="nx">a</span> <span class="nx">Composer\Script\Event</span> <span class="nx">instance</span><span class="o">.</span>
<span class="nx">Please</span> <span class="nx">adjust</span> <span class="nx">your</span> <span class="nx">type</span> <span class="nx">hint</span> <span class="nx">accordingly</span><span class="p">,</span> <span class="nx">see</span> <span class="nx">https</span><span class="o">://</span><span class="nx">getcomposer</span><span class="o">.</span><span class="nx">org</span><span class="o">/</span><span class="nx">doc</span><span class="o">/</span><span class="nx">articles</span><span class="o">/</span><span class="nx">scripts</span><span class="o">.</span><span class="nx">md</span><span class="c1">#event-classes</span>
<span class="nx">in</span> <span class="nx">phar</span><span class="o">:///</span><span class="nx">srv</span><span class="o">/</span><span class="nx">mapbender</span><span class="o">-</span><span class="nx">starter</span><span class="o">/</span><span class="nx">composer</span><span class="o">.</span><span class="nx">phar</span><span class="o">/</span><span class="nx">src</span><span class="o">/</span><span class="nx">Composer</span><span class="o">/</span><span class="nx">EventDispatcher</span><span class="o">/</span><span class="nx">EventDispatcher</span><span class="o">.</span><span class="nx">php</span><span class="o">:</span><span class="mi">290</span>
</pre></div>
</div>
<p>A: This depends on the PHP version the system in running on and occurs on PHP versions &lt; 7.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/mapbender3_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">FAQ - Frequently Asked Questions</a><ul>
<li><a class="reference internal" href="#general">General</a><ul>
<li><a class="reference internal" href="#services-and-their-usage-in-applications">Services and their usage in applications</a></li>
</ul>
</li>
<li><a class="reference internal" href="#performance">Performance</a><ul>
<li><a class="reference internal" href="#working-with-large-wms-clients">Working with large wms clients</a></li>
<li><a class="reference internal" href="#the-access-to-an-oracle-database-is-too-slow">The access to an Oracle database is too slow</a></li>
<li><a class="reference internal" href="#my-application-cannot-be-duplicated">My application cannot be duplicated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#development-and-manual-updates-of-modules">Development and manual updates of modules</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#attempted-to-call-function-imagecreatefrompng">Attempted to call function &#8220;imagecreatefrompng&#8221;</a></li>
<li><a class="reference internal" href="#deprecation-notices-at-composer-or-bootstrap-script">Deprecation Notices at composer or bootstrap Script</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="mapbender_templates.html"
                        title="previous chapter">Mapbender templates</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="glossary.html"
                        title="next chapter">Glossary</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/en/book/faq.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="glossary.html" title="Glossary"
             >next</a> |</li>
        <li class="right" >
          <a href="mapbender_templates.html" title="Mapbender templates"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Mapbender3 Documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Welcome to Mapbender3&#8217;s documentation!</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="../thebook.html" >The Book</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2017, The Mapbender Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>